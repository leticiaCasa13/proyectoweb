<header style="background-color: #ccc; padding: 20px 20px;">
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container-fluid d-flex align-items-center justify-content-between">

            <div class="collapse navbar-collapse" id="navbarNav" style="margin-left: 150px;">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/contact">Contacto</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/plantas">Plantas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/quienes_somos">Qui√©nes Somos</a>
                    </li>
                </ul>
            </div>

            <div class="d-flex align-items-center" style="margin-right: 150px; gap: 15px;">
                <!-- Enlace de Ingresar -->
                <div id="loginLink">
                    <a href="/login" class="text-white" style="text-decoration: none;">
                        <i class="bi bi-person-circle"></i> Ingresar
                    </a>
                </div>
                <!-- Enlace de Registro -->
                <div id="registerLink">
                    <a href="/register" class="text-white" style="text-decoration: none;">
                        <i class="bi bi-person-plus"></i> Registro
                    </a>
                </div>
                <!-- Carrito de compras -->
                <div>
                    <a href="/carrito" class="text-white" style="text-decoration: none;">
                        <i class="bi bi-cart3"></i> ‚Ç¨0,00
                    </a>
                </div>
            <!-- üîπ Email del usuario + Bot√≥n de Logout -->
           <div id="logoutContainer" class="d-flex align-items-center" style="display: none; gap: 10px;">
                <p id="userEmail" class="m-0 text-white"></p> <!-- Texto en blanco -->
                <button id="logoutBtn" class="btn btn-success btn-sm">Cerrar Sesi√≥n</button> <!-- Bot√≥n de logout con Bootstrap -->
           </div>

            </div>
        </div>
    </nav>
</header>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        let userEmail = document.getElementById("userEmail");
        let logoutContainer = document.getElementById("logoutContainer");
        let loginLink = document.getElementById("loginLink");
        let registerLink = document.getElementById("registerLink");
        let logoutBtn = document.getElementById("logoutBtn");

        function actualizarEstadoUsuario() {
            let email = localStorage.getItem("email");

            if (email) {
                userEmail.innerText = "Hola, " + email;
                logoutContainer.classList.remove("d-none"); // Mostrar el contenedor con el bot√≥n de logout
                logoutContainer.style.display = "flex"; // Asegura que se vea bien
                loginLink.style.display = "none"; // Ocultar los enlaces de Ingresar y Registro
                registerLink.style.display = "none";
            } else {
                userEmail.innerText = ""; // Limpiar el texto de email
                logoutContainer.classList.add("d-none"); // Ocultar el contenedor de Logout
                loginLink.style.display = "inline-block"; // Mostrar los enlaces de Ingresar y Registro
                registerLink.style.display = "inline-block";
            }
        }

        // Llamar a la funci√≥n para actualizar el estado del usuario al cargar la p√°gina
        actualizarEstadoUsuario();

        // Evento para el bot√≥n de logout
        logoutBtn.addEventListener("click", function() {
        localStorage.removeItem("email"); // Eliminar el email del localStorage
        localStorage.removeItem("token"); // Eliminar el token si existe



            // Actualizar la interfaz de usuario sin necesidad de recargar la p√°gina
            actualizarEstadoUsuario();
        });
    });
</script>
